{% extends 'base.html' %}

{% block more_head %}
<style>
 #attending_list label {
     font-weight: normal;
 }
</style>
{% endblock %}

{% block content %}
<h1>Oppmøteregistrering for {{ event.headline }}</h1>
<hr />

<!-- Button giving all users a penalty -->
<!-- <form method="post">{% csrf_token %}
     <input type="hidden" name="activate_penalties">
     <button type="button" id="activate">Aktiver prikker</button>
     <button type="submit" id="activate_confirm">Sikker?</button>
     <label>Gir alle påmeldte en prikk. </label>
     <script>
     $("#activate_confirm").hide();
     $("#activate").on("click", function(event) {
     $("#activate_confirm").slideToggle();
     });
     </script>
     </form>
     <br />
-->

<form method="post">{% csrf_token %}
{{ form }}
<table id="attending_list">
    <tr>
        <th>Bruker</th>
        {% for rule in rules %}
        <th>{{ rule }}</th>
        {% endfor %}
    </tr>
    {% for registration in registrations %}
    <tr>
        <td><label for="user_penalty_{{registration.pk}}">{{ registration.user.get_full_name }}</label></td>
        {% for penalty in rules.values %}
        <td><input type="radio" name="user_penalty_{{registration.pk}}" value="{{ penalty }}" {% ifequal registration.penalty penalty %}checked{% endifequal %}></td>
        {% endfor %}
    </tr>
    {% endfor %}
</table>
<button type="submit">Send inn</button>
</form>
{% endblock %} {# block "content" #}
