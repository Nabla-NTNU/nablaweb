{% extends "base.html" %}


{% block main %}

<style>
    .thread{
        list-style: none;
        padding: 10px;
    }
    .title{
        float: left;
    }
    .unreads{
        float: right;
    }
</style>


<h1>Tråder i kanalen: {{ channel }}</h1>
<a href="{% url "forum-index" %}">Tilbake til alle kanaler</a>

<p>
{{ channel.description }}
</p>

<ul>
{% for thread in threads %}
    <a href="{% url "thread-view" channel_id=channel_id thread_id=thread.pk %}">
        <li class="thread box"
        {% if thread.has_unreads %}
            style="color: red;"
        {% endif %}>
            <h4 class="title">
                {{ thread }}
            </h4>
            <h4 class="unreads">
                {% if thread.has_unreads %}
                    uleste meldinger!
                {% endif %}
            </h4>
        </li></a>
{% endfor %}
</ul>

<form method="POST">
    {% csrf_token %}
    <h4>Ny tråd:</h4>

    {{ form.as_p }}
    <button type="submit">Opprett en ny tråd</button>
</form>


{% if is_paginated %}
    <span class="step-links">
        {% if threads.has_previous %}
            <a href="?page={{ threads.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ threads.number }} of {{ threads.paginator.num_pages }}.
        </span>

        {% if threads.has_next %}
            <a href="?page={{ threads.next_page_number }}">next</a>
        {% endif %}
    </span>
{% endif %}

{% endblock main %}
